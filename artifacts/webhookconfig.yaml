apiVersion: admissionregistration.k8s.io/v1beta1
kind: ValidatingWebhookConfiguration
metadata:
  name: gpuquota-webook
webhooks:
  - name: gpuquota.example.com
    rules:
      - apiGroups:
          - ""
        apiVersions:
          - v1
        operations:
          - CREATE
          - UPDATE
        resources:
          - pods
    failurePolicy: Ignore
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURzRENDQXBpZ0F3SUJBZ0lVSnpLZ0JoOU8zM0dQS2FuWmZmdG9SdGRqYnZrd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1hqRUxNQWtHQTFVRUJoTUNRMDR4RURBT0JnTlZCQWdUQjBKbGFXcHBibWN4RURBT0JnTlZCQWNUQjBKbAphV3BwYm1jeEREQUtCZ05WQkFvVEEyczRjekVMTUFrR0ExVUVDeE1DUTBFeEVEQU9CZ05WQkFNVEIzZGxZbWh2CmIyc3dIaGNOTVRnd016STNNVEExTlRBd1doY05Nak13TXpJMk1UQTFOVEF3V2pCZU1Rc3dDUVlEVlFRR0V3SkQKVGpFUU1BNEdBMVVFQ0JNSFFtVnBhbWx1WnpFUU1BNEdBMVVFQnhNSFFtVnBhbWx1WnpFTU1Bb0dBMVVFQ2hNRAphemh6TVFzd0NRWURWUVFMRXdKRFFURVFNQTRHQTFVRUF4TUhkMlZpYUc5dmF6Q0NBU0l3RFFZSktvWklodmNOCkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFPZ29udElCSmZITUNOYVBockFpaXJPSC9iZmExZFI5RW9vTWlGaDEKeS9TTFd1bkRydE1NaGg5RWt6elUvUk9SQmdCc0hGV1B1YXJpVis3MmltenpQQTF4K1d5Uk5GMjRlVERYdDVyMgp2Y1ZGMGdmSDR5eEZBa01wNTZSVkh3OEtNeUNQbFdxUmdxaVQrMkI0eldyZnpUZnNyM2lYUnBnbjhwQnhTYzExCnFuMVdncDZHWi9qcmpvN3RZb01CaEFOcDJvd1JRM3ZWYmliNG9xd1lDQ1YvNE8ya2pRVXN5OUtsMGVhdWlReVAKR3lpRnJnc2dldTRTOCtXWjY1WXVrekt2MzV4OTJrUUVSaGJPOU9HQzROa05UMmhhTEVvRU00eUdTTnJZanI3SApCRkVtMTE2NWhzczVRQmVDQW5jRHIxbm5jN3pMc0c3N1gxZTl4SFFFYU9WTmFma0NBd0VBQWFObU1HUXdEZ1lEClZSMFBBUUgvQkFRREFnRUdNQklHQTFVZEV3RUIvd1FJTUFZQkFmOENBUUl3SFFZRFZSME9CQllFRkpIc3p2WS8KNkFYayt4TEZUOXJxczlPREhvVjVNQjhHQTFVZEl3UVlNQmFBRkpIc3p2WS82QVhrK3hMRlQ5cnFzOU9ESG9WNQpNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUNRcG5jS2Fwa1hlMlBZNVYrajBRNzFOMDVYaFdMOUw4bnhxV1BQClBmMW11WHF4b3ZIT29VQ0k2RjJGUHh2bm5KeUFDc1l1RVFWc3N3bVlFSnNlZXVjN2E1MjVwUkZzNVV4S215SzMKU0paNDFoTU43eUFXYXpTcmRwL3N5bEUzSWRITGFzcXlEQ2QxYjZHdC84c2lmdUR4U3JUeFJ1a2x1STVIZE9vTApUMCtpQkFKZnRBN0hhOEJ5OFp6T2g4anpzRGxkNFBJOTNScE1MNDQ1WVBEK0RCL0hqODY2NVhmeG90VThBTDlTCjh1azVXYkJUOGFDbzlqeFdpbjRjQ3J2enpNNnRuamlhczQ3NU0wUytYTm9waSsrSElEUVJBZ2pJREJnQVpEY3EKVXgrMENaaEp1eDBGbGNlNkNSYWs0SExsZ0dlV245a0kzMEpSNUwyVGhET2dNdG9KCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      service:
        name: gpuquota-webhook
        namespace: kube-system
